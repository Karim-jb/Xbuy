<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>products</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <button class="btn-up" id="btn-up">^</button>
    <button class="btn-down" id="btn-down">Down</button>

    <nav>
      <div class="w-container">
        <div class="nav-box">
          <div class="nav-wrapper">
            <div class="title">
              <h1>
                <u style="color: gold"><o style="color: gold">X</o></u
                >buy
              </h1>
              <p style="font-weight: bolder">The ultimate bying experince</p>
            </div>

            <div class="clicks">
              <div>
                <a href="index.html">Home</a>
              </div>
              <div>
                <a href="products.html">Products</a>
              </div>

              <div class="btn">
                <button id="theme">Dark Mode</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </nav>

    <section class="categories">
      <div class="flex">
        <button id="all">all</button>
        <button id="beauty">beauty</button>
        <button id="fragrances">fragrances</button>
        <button id="furniture">furniture</button>
        <button id="groceries">groceries</button>
      </div>
    </section>

    <script>
      fetch("https://dummyjson.com/products")
        .then((res) => res.json())
        .then((data) => {
          let allProduct = data.products;

          let all = document.getElementById("all");
          let beauty = document.getElementById("beauty");
          let fragrances = document.getElementById("fragrances");
          let groceries = document.getElementById("groceries");
          let furniture = document.getElementById("furniture");

          for (let i = 0; i < allProduct.length; i++) {
            div[i].innerHTML = `<img src="${allProduct[i].images[0]}" alt="${allProduct[i].title}" />
                               <h1>${allProduct[i].title}</h1>
                               <h3>Price: ${allProduct[i].price}$</h3>
                               <h3>Category: ${allProduct[i].category}</h3>
                               <h3>Rating: ${allProduct[i].rating}/5</h3>
                               <h3 style="text-decoration:none";>Stock: ${allProduct[i].stock}</h3>
                               `;
          }

          for (let i = 0; i < allProduct.length; i++) {
            all.addEventListener("click", () => {
              div[i].style.display = "revert";
              div[i].style.display = 'flex'
            });
          }
          for (let i = 0; i < allProduct.length; i++) {
            fragrances.addEventListener("click", () => {
              div[i].style.display = "revert";
              div[i].style.display = 'flex'
              if (data.products[i].category !== "fragrances")
                div[i].style.display = "none";
            });
          }
          for (let i = 0; i < allProduct.length; i++) {
            groceries.addEventListener("click", () => {
              div[i].style.display = "revert";
              div[i].style.display = 'flex'
              if (data.products[i].category !== "groceries")
                div[i].style.display = "none";
            });
          }

          for (let i = 0; i < allProduct.length; i++) {
            furniture.addEventListener("click", () => {
              div[i].style.display = "revert";
              div[i].style.display = 'flex'
              if (data.products[i].category !== "furniture")
                div[i].style.display = "none";
            });
          }

          for (let i = 0; i < allProduct.length; i++) {
            beauty.addEventListener("click", () => {
              div[i].style.display = "revert";
              div[i].style.display = 'flex'
              if (data.products[i].category !== "beauty")
                div[i].style.display = "none";
            });
          }

          for (let i = 0; i < allProduct.length; i++) {
            div[i].addEventListener("click", () => {
              window.location.href = `details.html?id=${allProduct[i].id}`;
            });
          }
        });

      let div = [];
      let contain = document.createElement("div");
      contain.style.display = "flex";
      contain.style.flexWrap = "wrap";
      contain.style.gap = "50px";
      contain.style.justifyContent = "center";
      contain.style.marginBottom = "80px";

      for (let i = 0; i < 30; i++) {
        div[i] = document.createElement("div");
        div[i].classList.add("all-data-div");

        contain.append(div[i]);
      }

      document.body.append(contain);
    </script>

    <footer class="footer">
      <div class="footer-container">
        <div class="footer-flex">
          <div class="flex">
            <a href="#">ABOUT US</a>
            <a href="#">CONTACT</a>
            <a href="#">BOOKS</a>
            <a href="#">HELP</a>
            <a href="products.html">PRODUCTS</a>
          </div>

          <div class="para">
            <p>
              Were looking forward to expand our comunity, dont waste time and
              engage now to see future features and beyondðŸ›’
            </p>
          </div>

          <div class="logos">
            <a href="#"
              ><img src="./images/Facebook_logo_(square).png.webp"
            /></a>
            <a href="#"><img src="./images/Google__G__logo.svg.webp" /></a>
            <a href="#"><img src="./images/insta.webp" /></a>
            <a href="#"><img src="./images/X.svg" /></a>
          </div>

          <div class="last">
            <p>2025 ALL rights reserverd@</p>
          </div>
        </div>
      </div>
    </footer>

    <script src="appearence.js"></script>
  </body>
</html>
